{"version":3,"file":"commonHelpers.js","sources":["../src/js/catalog-logics.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  const sortSelect = document.getElementById('sort-select');\n  const sortOrderSelect = document.getElementById('sort-order-select');\n  const searchInput = document.getElementById('search-input');\n  const minPriceInput = document.getElementById('min-price-input');\n  const prevPageBtn = document.getElementById('prev-page');\n  const nextPageBtn = document.getElementById('next-page');\n  const currentPageSpan = document.getElementById('current-page');\n\n  const homeLink = document.querySelector('.nav-link-studio[href=\"/index.html\"]');\n  const catalogLink = document.querySelector('.nav-link[href=\"./catalog-interactive.html\"]');\n  homeLink.classList.remove('nav-link-studio');\n  catalogLink.classList.add('nav-link-studio');\n\n  let currentPage = 1;\n  const itemsPerPage = 6;\n  let totalItems = 0;\n  let totalPages = 0;\n  prevPageBtn.disabled = true;\n\n  function updateCatalog() {\n    const sortBy = sortSelect.value;\n    const sortOrder = sortOrderSelect.value;\n    const searchQuery = searchInput.value.trim();\n    const minPrice = minPriceInput.value.trim();\n    initCatalogInteractive(sortBy, sortOrder, searchQuery, minPrice, currentPage, itemsPerPage);\n  }\n\n  function goToPreviousPage() {\n    if (currentPage > 1) {\n      currentPage--;\n      updatePagination();\n      updateCatalog();\n    }\n\n    if (currentPage === 1) {\n      prevPageBtn.disabled = true;\n    }\n\n    nextPageBtn.disabled = false;\n  }\n\n  function goToNextPage() {\n    if (currentPage < totalPages) {\n      currentPage++;\n      updatePagination();\n      updateCatalog();\n    }\n\n    if (currentPage === totalPages) {\n      nextPageBtn.disabled = true;\n    }\n\n    prevPageBtn.disabled = false;\n  }\n\n  function updatePagination() {\n    currentPageSpan.textContent = `Page ${currentPage}`;\n  }\n\n  sortSelect.addEventListener('change', updateCatalog);\n  sortOrderSelect.addEventListener('change', updateCatalog);\n  searchInput.addEventListener('input', updateCatalog);\n  minPriceInput.addEventListener('input', updateCatalog);\n  prevPageBtn.addEventListener('click', goToPreviousPage);\n  nextPageBtn.addEventListener('click', goToNextPage);\n\n  fetch('./data/watches.json')\n    .then(response => response.json())\n    .then(data => {\n      totalItems = data.length;\n      totalPages = Math.ceil(totalItems / itemsPerPage);\n      updatePagination();\n      initCatalogInteractive('name', 'asc', '', '', currentPage, itemsPerPage);\n    })\n    .catch(error => console.error('Error loading JSON:', error));\n});\n\nfunction initCatalogInteractive(\n  sortBy,\n  sortOrder,\n  searchQuery,\n  minPrice,\n  currentPage,\n  itemsPerPage\n) {\n  function createListItem(item) {\n    const li = document.createElement('li');\n    li.classList.add('catalog-list-item');\n    li.innerHTML = `\n          <img src=\"${item.image}\" alt=\"${item.name}\">\n          <h3 class=\"catalog-title\">${item.name}</h3>\n          <p class=\"catalog-text\"><span>â‚¬</span>${item.price}</p>\n        `;\n    return li;\n  }\n\n  fetch('./data/watches.json')\n    .then(response => response.json())\n    .then(data => {\n      let filteredData = data;\n\n      if (searchQuery) {\n        filteredData = filteredData.filter(item =>\n          item.name.toLowerCase().includes(searchQuery.toLowerCase())\n        );\n      }\n\n      if (minPrice) {\n        filteredData = filteredData.filter(item => parseFloat(item.price) >= parseFloat(minPrice));\n      }\n\n      if (sortBy === 'name') {\n        filteredData.sort((a, b) =>\n          sortOrder === 'asc' ? a.name.localeCompare(b.name) : b.name.localeCompare(a.name)\n        );\n      } else if (sortBy === 'price') {\n        filteredData.sort((a, b) =>\n          sortOrder === 'asc'\n            ? parseFloat(a.price) - parseFloat(b.price)\n            : parseFloat(b.price) - parseFloat(a.price)\n        );\n      }\n\n      const startIndex = (currentPage - 1) * itemsPerPage;\n      const endIndex = startIndex + itemsPerPage;\n      const itemsToShow = filteredData.slice(startIndex, endIndex);\n\n      const catalogList = document.getElementById('catalog-list');\n      catalogList.innerHTML = '';\n\n      if (itemsToShow.length === 0) {\n        const noResultsMessage = document.createElement('p');\n        noResultsMessage.classList.add('no-items-found');\n        noResultsMessage.textContent = 'No items found.';\n        catalogList.appendChild(noResultsMessage);\n      } else {\n        itemsToShow.forEach(item => {\n          catalogList.appendChild(createListItem(item));\n        });\n      }\n    })\n    .catch(error => console.error('Error loading JSON:', error));\n}\n"],"names":["sortSelect","sortOrderSelect","searchInput","minPriceInput","prevPageBtn","nextPageBtn","currentPageSpan","homeLink","catalogLink","currentPage","itemsPerPage","totalItems","totalPages","updateCatalog","sortBy","sortOrder","searchQuery","minPrice","initCatalogInteractive","goToPreviousPage","updatePagination","goToNextPage","response","data","error","createListItem","item","li","filteredData","a","b","startIndex","endIndex","itemsToShow","catalogList","noResultsMessage"],"mappings":"kCAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAkB,SAAS,eAAe,mBAAmB,EAC7DC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAgB,SAAS,eAAe,iBAAiB,EACzDC,EAAc,SAAS,eAAe,WAAW,EACjDC,EAAc,SAAS,eAAe,WAAW,EACjDC,EAAkB,SAAS,eAAe,cAAc,EAExDC,EAAW,SAAS,cAAc,sCAAsC,EACxEC,EAAc,SAAS,cAAc,8CAA8C,EACzFD,EAAS,UAAU,OAAO,iBAAiB,EAC3CC,EAAY,UAAU,IAAI,iBAAiB,EAE3C,IAAIC,EAAc,EAClB,MAAMC,EAAe,EACrB,IAAIC,EAAa,EACbC,EAAa,EACjBR,EAAY,SAAW,GAEvB,SAASS,GAAgB,CACvB,MAAMC,EAASd,EAAW,MACpBe,EAAYd,EAAgB,MAC5Be,EAAcd,EAAY,MAAM,KAAI,EACpCe,EAAWd,EAAc,MAAM,KAAI,EACzCe,EAAuBJ,EAAQC,EAAWC,EAAaC,EAAUR,EAAaC,CAAY,CAC3F,CAED,SAASS,GAAmB,CACtBV,EAAc,IAChBA,IACAW,IACAP,KAGEJ,IAAgB,IAClBL,EAAY,SAAW,IAGzBC,EAAY,SAAW,EACxB,CAED,SAASgB,GAAe,CAClBZ,EAAcG,IAChBH,IACAW,IACAP,KAGEJ,IAAgBG,IAClBP,EAAY,SAAW,IAGzBD,EAAY,SAAW,EACxB,CAED,SAASgB,GAAmB,CAC1Bd,EAAgB,YAAc,QAAQG,CAAW,EAClD,CAEDT,EAAW,iBAAiB,SAAUa,CAAa,EACnDZ,EAAgB,iBAAiB,SAAUY,CAAa,EACxDX,EAAY,iBAAiB,QAASW,CAAa,EACnDV,EAAc,iBAAiB,QAASU,CAAa,EACrDT,EAAY,iBAAiB,QAASe,CAAgB,EACtDd,EAAY,iBAAiB,QAASgB,CAAY,EAElD,MAAM,qBAAqB,EACxB,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZZ,EAAaY,EAAK,OAClBX,EAAa,KAAK,KAAKD,EAAaD,CAAY,EAChDU,IACAF,EAAuB,OAAQ,MAAO,GAAI,GAAIT,EAAaC,CAAY,CAC7E,CAAK,EACA,MAAMc,GAAS,QAAQ,MAAM,sBAAuBA,CAAK,CAAC,CAC/D,CAAC,EAED,SAASN,EACPJ,EACAC,EACAC,EACAC,EACAR,EACAC,EACA,CACA,SAASe,EAAeC,EAAM,CAC5B,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtC,OAAAA,EAAG,UAAU,IAAI,mBAAmB,EACpCA,EAAG,UAAY;AAAA,sBACGD,EAAK,KAAK,UAAUA,EAAK,IAAI;AAAA,sCACbA,EAAK,IAAI;AAAA,kDACGA,EAAK,KAAK;AAAA,UAEjDC,CACR,CAED,MAAM,qBAAqB,EACxB,KAAKL,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZ,IAAIK,EAAeL,EAEfP,IACFY,EAAeA,EAAa,OAAOF,GACjCA,EAAK,KAAK,YAAW,EAAG,SAASV,EAAY,aAAa,CACpE,GAGUC,IACFW,EAAeA,EAAa,OAAOF,GAAQ,WAAWA,EAAK,KAAK,GAAK,WAAWT,CAAQ,CAAC,GAGvFH,IAAW,OACbc,EAAa,KAAK,CAACC,EAAGC,IACpBf,IAAc,MAAQc,EAAE,KAAK,cAAcC,EAAE,IAAI,EAAIA,EAAE,KAAK,cAAcD,EAAE,IAAI,CAC1F,EACiBf,IAAW,SACpBc,EAAa,KAAK,CAACC,EAAGC,IACpBf,IAAc,MACV,WAAWc,EAAE,KAAK,EAAI,WAAWC,EAAE,KAAK,EACxC,WAAWA,EAAE,KAAK,EAAI,WAAWD,EAAE,KAAK,CACtD,EAGM,MAAME,GAActB,EAAc,GAAKC,EACjCsB,EAAWD,EAAarB,EACxBuB,EAAcL,EAAa,MAAMG,EAAYC,CAAQ,EAErDE,EAAc,SAAS,eAAe,cAAc,EAG1D,GAFAA,EAAY,UAAY,GAEpBD,EAAY,SAAW,EAAG,CAC5B,MAAME,EAAmB,SAAS,cAAc,GAAG,EACnDA,EAAiB,UAAU,IAAI,gBAAgB,EAC/CA,EAAiB,YAAc,kBAC/BD,EAAY,YAAYC,CAAgB,CAChD,MACQF,EAAY,QAAQP,GAAQ,CAC1BQ,EAAY,YAAYT,EAAeC,CAAI,CAAC,CACtD,CAAS,CAET,CAAK,EACA,MAAMF,GAAS,QAAQ,MAAM,sBAAuBA,CAAK,CAAC,CAC/D"}